webpackJsonp([1],{"1IIO":function(t,e){},MQoL:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")({name:"App"},s,!1,function(t){i("MQoL")},null,null).exports,n=i("/ocq"),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),i("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),i("br"),t._v(" "),i("li",[i("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var r=i("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},o,!1,function(t){i("1IIO")},"data-v-939b6966",null).exports,u=["#F9F900","#6FB7B7","#9999CC","#B766AD","#B87070","#FF8F59","#FFAF60","#FFDC35","#FFFF37","#B7FF4A","#28FF28","#1AFD9C","#00FFFF","#2894FF","#6A6AFF","#BE77FF","#FF77FF","#FF79BC","#FF2D2D","#ADADAD"],c=20;var m={colorList:u,colorListLength:c,getRandColor:function(){var t=Math.round(Math.random()*c);return u[t]},requestServerPath:"http://bill.bjwcom.cn:8002/api",requestDownLoadServerPath:"http://bill.bjwcom.cn/testapp",btnArray:["否","是"],baiduMapKey:"MzriWVdMO3LYa9Pd4jxwXfVg"},d=i("VU/8")(m,null,!1,null,null,null).exports,v=i("mtWM"),h=i.n(v),p={name:"billadd",data:function(){return{billdata:[]}},mounted:function(){var t=this;mui.showLoading("加载中..","div"),setTimeout(function(){mui.hideLoading(function(t){})},5e3),h.a.get(d.requestServerPath+"/bill",{params:{index:1,size:8}}).then(function(e){mui.hideLoading(function(t){}),t.billdata=e.data.data})},methods:{}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("div",{staticClass:"mui-content"},[i("ul",{staticClass:"mui-table-view mui-table-view-striped mui-table-view-condensed"},t._l(t.billdata,function(e){return i("li",{staticClass:"mui-table-view-cell"},[i("div",{staticClass:"mui-table"},[i("div",{staticClass:"mui-table-cell mui-col-xs-8"},[i("h4",{staticClass:"mui-ellipsis"},[t._v(t._s(e.chargeName)+"_"+t._s(e.typeName)+"_"+t._s(e.money))]),t._v(" "),i("h5",[t._v("地址:"+t._s(e.address))]),t._v(" "),i("p",{staticClass:"mui-h6 mui-ellipsis"},[t._v("备注:"+t._s(e.remarkInfo))])]),t._v(" "),i("div",{staticClass:"mui-table-cell mui-col-xs-4 mui-text-right"},[i("span",{staticClass:"mui-h5"},[t._v(t._s(e.chargeTime1))])])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mui-bar mui-bar-nav"},[e("a",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{href:"#/"}}),this._v(" "),e("h1",{staticClass:"mui-title"},[this._v("账本列表")])])}]},g=i("VU/8")(p,f,!1,null,null,null).exports,_=i("mvHQ"),b=i.n(_),C={name:"billadd",data:function(){return{bill:{ChargeName:"",TypeNmae:"支出",TypeId:"1",ChargeTime:"",Money:"",Address:"",RemarkInfo:"",Lat:"",Lng:""},currdate:""}},mounted:function(){var t=this.getParams();null!=t&&(this.bill=t,sessionStorage.removeItem("billdata"));var e=new Date;this.currdate=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2),this.bill.ChargeTime=this.currdate,this.getcurrposition()},methods:{getParams:function(){this.$route.query;var t=sessionStorage.getItem("billdata");return null==t?null:JSON.parse(t)},selecttype:function(){sessionStorage.setItem("billdata",b()(this.bill)),this.$router.push({name:"billtype"})},submitdata:function(){mui.showLoading("提交中..","div");var t=this;return h.a.post(d.requestServerPath+"/bill ",this.bill).then(function(e){mui.hideLoading(function(){1==e.data.code?mui.confirm("录入成功，是否继续录入","提示",["取消","继续"],function(e){1==e.index?t.cancelsub():t.$router.push({path:"index",query:{}})}):mui.toast("操作失败 ")})}).catch(function(t){mui.toast(b()(t))}),!1},cancelsub:function(){this.bill={},this.bill.ChargeTime=this.currdate},getcurrposition:function(){var t=this;plus.geolocation.getCurrentPosition(function(e){console.log("Geolocation\nLatitude:"+e.coords.latitude+"\nLongitude:"+e.coords.longitude+"\nAltitude:"+e.coords.altitude),t.bill.Lat=e.coords.latitude,t.bill.Lng=e.coords.longitude,$.getJSON(d.requestServerPath+"/map",{lat:e.coords.latitude,lng:e.coords.longitude},function(e){console.log(e.result.formatted_address),t.bill.Address=e.result.formatted_address})},function(t){alert("获取失败"+t.message)})}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("form",{staticClass:"mui-content",on:{submit:function(e){return e.preventDefault(),t.submitdata(e)}}},[i("div",{staticClass:"mui-content-padded",staticStyle:{margin:"5px"}},[i("h5",[t._v("信息录入")]),t._v(" "),i("div",{staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row"},[i("label",[t._v("概要：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.ChargeName,expression:"bill.ChargeName"}],staticClass:"mui-input-clear",attrs:{type:"text",required:"",placeholder:"消费概要"},domProps:{value:t.bill.ChargeName},on:{input:function(e){e.target.composing||t.$set(t.bill,"ChargeName",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("类型：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.TypeNmae,expression:"bill.TypeNmae"}],staticClass:"mui-input-clear",attrs:{type:"text",required:"",placeholder:"类型"},domProps:{value:t.bill.TypeNmae},on:{click:t.selecttype,input:function(e){e.target.composing||t.$set(t.bill,"TypeNmae",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.TypeId,expression:"bill.TypeId"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"类型"},domProps:{value:t.bill.TypeId},on:{click:t.selecttype,input:function(e){e.target.composing||t.$set(t.bill,"TypeId",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("时间：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.ChargeTime,expression:"bill.ChargeTime"}],ref:"currdate",attrs:{type:"date",required:"",value:""},domProps:{value:t.bill.ChargeTime},on:{input:function(e){e.target.composing||t.$set(t.bill,"ChargeTime",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("金额：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.Money,expression:"bill.Money"}],staticClass:"mui-input-clear",attrs:{type:"number",required:"",step:"0.01",placeholder:"相关金额"},domProps:{value:t.bill.Money},on:{input:function(e){e.target.composing||t.$set(t.bill,"Money",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("地址：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bill.Address,expression:"bill.Address"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"相应的地址"},domProps:{value:t.bill.Address},on:{focus:t.getcurrposition,input:function(e){e.target.composing||t.$set(t.bill,"Address",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"mui-input-row",staticStyle:{margin:"10px 0px"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bill.RemarkInfo,expression:"bill.RemarkInfo"}],attrs:{id:"textarea",rows:"5",placeholder:"备注"},domProps:{value:t.bill.RemarkInfo},on:{input:function(e){e.target.composing||t.$set(t.bill,"RemarkInfo",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mui-button-row"},[i("button",{staticClass:"mui-btn mui-btn-primary",attrs:{type:"submit"}},[t._v("确认")]),t._v("  \n\t\t\t\t"),i("button",{staticClass:"mui-btn mui-btn-danger",attrs:{type:"button"},on:{click:t.cancelsub}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mui-bar mui-bar-nav"},[e("a",{staticClass:" mui-icon mui-icon-left-nav mui-pull-left",attrs:{href:"#/"}}),this._v(" "),e("h1",{staticClass:"mui-title"},[this._v("录入")])])}]},w=i("VU/8")(C,y,!1,null,null,null).exports,x={name:"billtype",data:function(){return{}},mounted:function(){},methods:{typeselect:function(t){var e=JSON.parse(sessionStorage.getItem("billdata"));e.TypeId=t.target.value,e.TypeNmae=t.target.dataset.txt,sessionStorage.setItem("billdata",b()(e)),this.$router.push({path:"add"})}}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",{staticClass:"mui-content-padded"},[t._v("类型选择")]),t._v(" "),i("div",{staticClass:"mui-card"},[i("form",{staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row mui-radio mui-left"},[i("label",[t._v("支出")]),t._v(" "),i("input",{attrs:{name:"radio1",type:"radio","data-txt":"支出",value:"1",checked:""},on:{click:t.typeselect}})]),t._v(" "),i("div",{staticClass:"mui-input-row mui-radio mui-left"},[i("label",[t._v("收入")]),t._v(" "),i("input",{attrs:{name:"radio1",type:"radio","data-txt":"收入",value:"2"},on:{click:t.typeselect}})])])])])},staticRenderFns:[]},k=i("VU/8")(x,F,!1,null,null,null).exports,T=i("08a9"),L={name:"refrech",components:{PullTo:i.n(T).a},data:function(){return{dataList:[],index:1,size:5,isload:!0,currheight:"",timeout:null}},mounted:function(){console.log(this.$refs.contentheigth.offsetHeight),this.currheight=15*this.$refs.contentheigth.offsetHeight-2+"px",this.refresh()},methods:{refresh:function(t){this.index=1,this.$refs.contentheigth.style.height=this.currheight,this.load(t)},scroll:function(){console.log(2)},loadmore:function(){var t=this;if(console.log(this.isload),!this.isload)return!1;console.log(this.index),mui.showLoading("加载中..","div"),setTimeout(function(){h.a.get(d.requestServerPath+"/bill",{params:{index:t.index,size:t.size}}).then(function(e){mui.hideLoading(function(t){}),0!=e.data.data.length&&(t.dataList=t.dataList.concat(e.data.data),e.data.data.length>=t.size?t.index+=1:t.isload=!1)})},500)},load:function(t){var e=this;$.ajax({url:d.requestServerPath+"/bill",data:{index:this.index,size:this.size},dataType:"json",async:!1,success:function(i){mui.hideLoading(function(t){}),e.dataList=i.data,null!=t&&t("done"),e.index+=1,e.dataList.length<this.size?(e.isload=!1,console.log(e.isload),e.$refs.contentheigth.style.height="100%",e.$refs.contentheigth.offsetHeight):e.loadmore()}})},lidown:function(){this.timeout=setTimeout(function(){console.log("长按"),mui("#edit").popover("toggle")},2e3)},liup:function(){clearTimeout(this.timeout)},liout:function(){clearTimeout(this.timeout)},actioncancle:function(){mui("#edit").popover("toggle")},longtop:function(){console.log(1),mui("#edit").popover("toggle")},acli:function(){mui.toast("待开发"),mui("#edit").popover("toggle")}}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("div",{ref:"contentheigth",staticClass:"mui-content"},[i("pull-to",{attrs:{"top-load-method":t.refresh},on:{"infinite-scroll":t.loadmore}},[i("ul",{staticClass:"mui-table-view mui-table-view-striped mui-table-view-condensed"},t._l(t.dataList,function(e){return i("li",{ref:"conli",refInFor:!0,staticClass:"mui-table-view-cell",on:{click:t.longtop}},[i("div",{staticClass:"mui-table"},[i("div",{staticClass:"mui-table-cell mui-col-xs-8"},[i("h4",{staticClass:"mui-ellipsis"},[t._v(t._s(e.chargeName)+"_"+t._s(e.typeName)+"_"+t._s(e.money))]),t._v(" "),i("h5",[t._v("地址:"+t._s(e.address))]),t._v(" "),i("p",{staticClass:"mui-h6 mui-ellipsis"},[t._v("备注:"+t._s(e.remarkInfo))])]),t._v(" "),i("div",{staticClass:"mui-table-cell mui-col-xs-4 mui-text-right"},[i("span",{staticClass:"mui-h5"},[t._v(t._s(e.chargeTime1))])])])])}))])],1),t._v(" "),i("div",{staticClass:"mui-popover mui-popover-action mui-popover-bottom",attrs:{id:"edit"}},[i("ul",{staticClass:"mui-table-view"},[i("li",{staticClass:"mui-table-view-cell"},[i("a",{on:{click:t.acli}},[t._v("编辑信息")])])]),t._v(" "),i("ul",{staticClass:"mui-table-view"},[i("li",{staticClass:"mui-table-view-cell"},[i("a",{staticStyle:{color:"#FF3B30"},on:{click:t.acli}},[t._v("删除信息")])])]),t._v(" "),i("ul",{staticClass:"mui-table-view"},[i("li",{staticClass:"mui-table-view-cell"},[i("a",{on:{click:t.actioncancle}},[i("b",[t._v("取消")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mui-bar mui-bar-nav"},[e("a",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{href:"#/"}}),this._v(" "),e("h1",{staticClass:"mui-title"},[this._v("账本列表")])])}]},A=i("VU/8")(L,N,!1,null,null,null).exports;mui.init({keyEventBind:{backbutton:!0}}),sessionStorage.clear();var I=!1;mui.plusReady(function(){var t=d.requestDownLoadServerPath+"/bill.apk";console.log(t),console.log(plus),plus.downloader.createDownload(t,{},function(t,e){200==e?mui.confirm("有新版本，是否后台更新","提示",["取消","确定"],function(e){if(1==e.index){var i=t.filename;console.log(t.filename),plus.runtime.install(i)}}):console.log("Download failed: "+e)}).start()});var P={name:"homeindex",data:function(){return{}},mounted:function(){console.log(this.$route.path);var t=this.$route.path,e=this;mui.back=function(){var i=e.$route.path;console.log(i),console.log(t),"/"==i?I&&I.isVisible()?plus.runtime.quit():I=mui.toast("再按一次返回键退出",{duration:"long",type:"div"}):e.$router.push({path:t,query:{}})}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("div",{staticClass:"mui-content"},[i("ul",{staticClass:"mui-table-view mui-grid-view mui-grid-9"},[i("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[i("a",{attrs:{href:"#/bill/blist"}},[i("svg",{staticClass:"mui-icon icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-jizhang"}})]),t._v(" "),i("div",{staticClass:"mui-media-body"},[t._v("记账本")])])]),t._v(" "),i("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[i("a",{attrs:{href:"#/bill/add"}},[i("svg",{staticClass:"mui-icon icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tianjiaadd142"}})]),t._v(" "),i("div",{staticClass:"mui-media-body"},[t._v("记账")])])]),t._v(" "),i("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[i("a",{attrs:{href:"#"}},[i("svg",{staticClass:"mui-icon icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tongji"}})]),t._v(" "),i("div",{staticClass:"mui-media-body"},[t._v("统计")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mui-bar mui-bar-nav"},[e("h1",{staticClass:"mui-title"},[this._v("主页")])])}]},j=i("VU/8")(P,S,!1,null,null,null).exports;a.a.use(n.a);var q=new n.a({routes:[{path:"/",name:"homeindex",component:j},{path:"/hello",name:"HelloWorld",component:r},{path:"/bill/index",name:"billindex",component:g},{path:"/bill/add",name:"billadd",component:w},{path:"/bill/type",name:"billtype",component:k},{path:"/bill/blist",name:"billlist",component:A}]});a.a.prototype.GLOBAL=d,a.a.config.productionTip=!1,window.Promise=i("A/Xc"),window.$=i("7t+N"),new a.a({el:"#app",router:q,components:{App:l},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.013e2efbbc96498d371f.js.map